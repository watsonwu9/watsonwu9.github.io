<!DOCTYPE html>
<html>
<head>
<!--   // <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
  // <script src="https://d3js.org/d3-time.v1.min.js"></script>
  // <script src="https://d3js.org/d3-time-format.v2.min.js"></script> -->
  <script src="d3.v3.min.js" charset="utf-8"></script>
  <script src="d3-time.v1.min.js"></script>
  <script src="d3-time-format.v2.min.js"></script>
  <script src="d3/d3.slider.js"></script>
<!-- <link rel="stylesheet" type="text/css" href="main.css" /> -->
  <link rel="stylesheet" type="text/css" href="css/d3.slider.css" media="screen" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

</head>
<body>
<style>
.axis path, 
.axis line {
    fill: none;
    stroke: black;
    shape-rendering: crispEdges;
}
.axis text {
    font-family: sans-serif;
    font-size: 11px;
}

.title {
    font-family: sans-serif;
    font-size: 30px;
    text-align: center;
}

.intro {
    font-family: sans-serif;
    font-size: 18px;
    margin-left: 50px;
    margin-right: 50px;
}


div #sortblock {
    position: relative;
    font-size: 40px;
    height: 140px;
    margin-left: 40px;
    margin-right: 40px;
    margin-top: 20px;

}

div .sort {
    float: right;
}


#chart {
  margin-top: -70px;
  margin-right: 50px;
  padding-left: 50px;
  text-align: center;
}

#tooltip{
  opacity: 0;
  position: absolute;
  text-align: center;
  width: 120px;height: 80px;
  background: white;
  border:0px;
  font-family: sans-serif;
  font-size: 10px;
  border-style: solid;
  border-width: 1px;
}

div .legendbox{
  float: left;
  font-size: 10px;
  width: 290px;
  height: 82px;
  margin-left: 72px;
  border-style: solid;
  border-width: 1px;
}

#legend {
  float: left;
  width: 18px;
  height: 80px;
  background-color: #fd8d3c;
  text-shadow:none;
  color: white;

}
#legendEx{
  float: left;
  width: 270px;
  height: 80px;
  text-align: left;

}

.bar {
  background-color: #fff;
}


#chart  .text {
  font-size: 10px;
  left: -10%
  text-align:center;

}


#slider {
  margin-right: 50px;
  padding-left: 50px;
}


</style>


  <h1 class="title">Median Income Evolution Between US States</h1>

  <h3 class = 'intro'>How does family income in different states change in the past 30 years?</h3>
  <p class = 'intro'>After the unprecedented election in 2016, some argued that one of the underlying reasons why Mr. Donald Trump was elected is that <strong>the USA is becoming more and more divided, economically</strong>.While Some states have enjoyed very fast growth thanks to the globalization and technology expansion, some other states face severe economy problems and are losing American jobs to other countries.  
  </p>

  <p class = 'intro'>In order to compare the <strong>average monetary improvement </strong>of US families between states in the past years, the median household annual income from 1985 to 2015 were retrieved from <a href="http://www.census.gov">US Census Bureau</a>. This dataset has various merits. Firstly, household annual income, compared to other dataset like GDP per capita, will more reflect voter's personal well-being.  Also, the median is chosen because it will not be affected by extremes and is a better representative of average family's financial situation.<strong>To control for the inflation and the natural growth</strong>, the ratio,as a percentage, of the median household income in each state to that of USA in the same year is also presented on each bar.
  </p>

  <p class = 'intro'>
  I found that the income of <strong>the residents in Ohio deteriorated comparatively</strong>. In 1985, family from the Ohio earns 25,174 US dollars, or 107% of the national household income. However, in 2015, that number has arisen to 53,301 US dollars, but only 94% of the national household income in 2015. This means that the family in Ohio has lost to the average! That may explain why Ohio voters are becoming more change-driven, with Trump won by a margin of 8.1 points in 2016 presidential election.

  </p>
  <p class = 'intro'>
  What conclusion may you draw? feel free to play with this visualization. 
  </p>

 
  <div class ="container">
      <div id = "sortblock">
            <div class = 'sort'>
                <input type="button"  value="sort"/>
            </div>
            <div class = 'legendbox'>
                <div id = 'legend'><p style='margin-top:0px'>119</p></div>
                <div id ='legendEx'><p style='font-size:5px;margin-top:0px'>Note:the percentage in each bar(here 119%) represents the ratio of the median household income in this state to that of USA in the same year.Here,the family in this state earns 119% as much as the average American family.</p> </div>
            </div>
      </div>
      <svg id="chart"/>
      <div id='tooltip'></div>
      <div id="slider"></div>

  </div>

  <div data-role="collapsible">
      <h1>Click me - Essay is here!</h1>
      <p>I made this visualization as a <strong>Interactive Slideshow</strong>.</p>
      <h3>Scenes</h3>
      <p>In an interactive slideshow, every scene is like a slide in a presentation. Here, I used <strong>a slider</strong> to let users to navigate from the year of 1985 to the year of 2015. By dragging or clicking the related buttons, users can have an overall idea about how median household income in each state changes.</p>
      <h3>Annotations</h3>
      <p>In an interactive slideshow, annotations are the messages the data scientists want to convey to the audiences. In this chart, I made two annotations. Firstly, I designed <strong>a popup textbox</strong> to help audiences understand the exact amount of median household income in each state. Then, in order to control for the inflation and national growth, and make the comparison between different years valid, I divided the median household income in each state with the same-year US national median household income and present <strong>the percentage in the bar</strong>(and I timed the percentage with 100 as well). If that figure is 119(as in the legend), it means that the family in this state earns 119% as much as the average American family, in a median sense. </p>
      <p>By adding these annotations, it is believed that audiences will have a better understanding of our question of research: How does family income in different states change in the past 30 years?</p>
      <h3>Parameters</h3>
      <p>In this visualization, the current year is the parameter. I also add animations between the transitions. Note a <strong>SORT button</strong> is also presented to make the comparison clearer.</p>
       <h3>Triggers</h3>
      <p>Triggers are the connections between parameters. One who drags the slider and make the parameters change will definitely notice the variety of triggers embedded in this visualization.</p>



    </div>


  <script src="chart.js" type="text/javascript"></script>



</body>
</html>